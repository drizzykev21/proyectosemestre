"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3687],{3687:(b,u,s)=>{s.r(u),s.d(u,{LoginPageModule:()=>C});var p=s(6733),o=s(8182),g=s(2133),d=s(5630),e=s(7170),h=s(6121),m=s(6585),_=s(8937);function f(a,l){if(1&a){const r=e.EpF();e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",16)(3,"ion-button",17),e.NdJ("click",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.cancel())}),e._UZ(4,"ion-icon",18),e.qZA()(),e.TgZ(5,"ion-buttons",19)(6,"ion-button",20),e.NdJ("click",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.confirm())}),e._uU(7,"Registrar"),e.qZA()()()(),e.TgZ(8,"ion-content",21)(9,"ion-card",22)(10,"ion-card-header")(11,"ion-card-title",23),e._uU(12,"Sign Up"),e.qZA()(),e.TgZ(13,"ion-card-content",24)(14,"ion-input",25),e.NdJ("ngModelChange",function(t){e.CHM(r);const i=e.oxw();return e.KtG(i.credentials.username=t)}),e.qZA(),e.TgZ(15,"ion-input",26),e.NdJ("ngModelChange",function(t){e.CHM(r);const i=e.oxw();return e.KtG(i.credentials.password=t)}),e.qZA(),e.TgZ(16,"ion-select",27),e.NdJ("ngModelChange",function(t){e.CHM(r);const i=e.oxw();return e.KtG(i.credentials.rol=t)}),e.TgZ(17,"ion-select-option",28),e._uU(18,"Conductor"),e.qZA(),e.TgZ(19,"ion-select-option",29),e._uU(20,"Pasajero"),e.qZA()(),e.TgZ(21,"ion-label"),e._uU(22),e.qZA(),e._UZ(23,"br"),e.TgZ(24,"ion-label"),e._uU(25),e.qZA()()()()}if(2&a){const r=e.oxw();e.xp6(6),e.Q6J("strong",!0),e.xp6(8),e.Q6J("ngModel",r.credentials.username),e.xp6(1),e.Q6J("ngModel",r.credentials.password),e.xp6(1),e.Q6J("ngModel",r.credentials.rol),e.xp6(6),e.Oqu(r.estado),e.xp6(3),e.Oqu(r.mensaje)}}const M=[{path:"",component:(()=>{var a;class l{constructor(n,t,i,c){this.router=n,this.animationCtrl=t,this.auth=i,this.api=c,this.mensaje="",this.estado="",this.alertButtons=["Ok"],this.datosAPI="",this.credentials={username:"",password:"",rol:""}}ngAfterViewInit(){this.animation=this.animationCtrl.create().addElement(this.card.nativeElement).duration(1500).iterations(1/0).direction("alternate").fromTo("background","#3AAFB9","var(--background)"),this.animation.play()}enviarInformacion(){this.auth.verificarCredenciales(this.credentials.username,this.credentials.password).then(()=>{this.auth.autenticado?this.api.getPostsL().subscribe(n=>{const t=n.find(i=>i.username===this.credentials.username);t&&(this.credentials.rol=t.rol,this.router.navigate("Conductor"===this.credentials.rol?["/home"]:["/passenger"],{state:{credentials:this.credentials}}))},n=>{console.error(n)}):""===this.credentials.username||""===this.credentials.password?(console.log("Algun campo no tiene valor"),this.mensaje="Algun campo no tiene valor"):this.mensaje="Ingrese credenciales correctas",setTimeout(()=>{this.mensaje=""},5e3)}).catch(n=>{console.error(n)})}forgot(){this.router.navigate(["forgot"])}cancel(){this.modal.dismiss(null,"cancel")}confirm(){""===this.credentials.username||""===this.credentials.password?(console.log("Algun campo no tiene valor"),this.mensaje="Algun campo no tiene valor",setTimeout(()=>{this.mensaje=""},2500)):this.credentials.password.length<8?(console.log("Contrase\xf1a con menos de 8 caracteres"),this.mensaje="Contrase\xf1a con menos de 8 caracteres",setTimeout(()=>{this.mensaje=""},2500)):this.api.getPostsL().pipe((0,h.P)()).subscribe(n=>{n.find(i=>i.username===this.credentials.username)?(console.log("Nombre de usuario ya existe"),this.mensaje="Usuario existente",setTimeout(()=>{this.mensaje=""},2500)):(console.log(this.credentials),this.api.createPostL(this.credentials).subscribe(i=>{this.mensaje="Registro Exitoso",console.log("Funcionaaaa :D"),setTimeout(()=>{this.mensaje=""},2e3)},i=>{console.error(i)}),setTimeout(()=>{this.modal.dismiss(this.credentials.username,"confirm")},3e3))},n=>{console.error(n)})}}return(a=l).\u0275fac=function(n){return new(n||a)(e.Y36(d.F0),e.Y36(o.vB),e.Y36(m.T),e.Y36(_.s))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-login"]],viewQuery:function(n,t){if(1&n&&(e.Gf(o.PM,5,e.SBq),e.Gf(o.ki,5)),2&n){let i;e.iGM(i=e.CRH())&&(t.card=i.first),e.iGM(i=e.CRH())&&(t.modal=i.first)}},decls:35,vars:4,consts:[[3,"fullscreen"],["collapse","condense"],["size","large","id","title"],["title",""],["id","avatar-container"],["id","avatar"],["avatar",""],["alt","Logo","src","../../assets/img/Logo.png"],["id","text-container"],["id","user","label","Nombre de Usuario","labelPlacement","floating","placeholder","Ingrese su Usuario",2,"text-indent","15px",3,"ngModel","ngModelChange"],["id","password","label","Contrase\xf1a","type","password","labelPlacement","floating","placeholder","Ingrese su Contrase\xf1a",2,"text-indent","15px",3,"ngModel","ngModelChange"],[2,"color","white"],["size","small",3,"click"],["id","open-modal",2,"color","white"],[2,"color","white",3,"click"],["trigger","open-modal"],["slot","start"],[3,"click"],["name","close-sharp"],["slot","end","id","present-alert"],[3,"strong","click"],[1,"ion-padding"],[2,"border-radius","70px"],[2,"width","140px","color","#3AAFB9"],[2,"text-align","center"],["label","Nombre Usuario","labelPlacement","floating","placeholder","Ingrese su Usuario",2,"text-indent","15px",3,"ngModel","ngModelChange"],["label","Contrase\xf1a","type","password","labelPlacement","floating","placeholder","Ingrese su Contrase\xf1a",2,"text-indent","15px",3,"ngModel","ngModelChange"],["label","Seleccione su rol","label-placement","floating",2,"text-indent","15px","margin-right","10px",3,"ngModel","ngModelChange"],["value","Conductor"],["value","Pasajero"]],template:function(n,t){1&n&&(e.TgZ(0,"ion-content",0)(1,"ion-header",1)(2,"ion-toolbar")(3,"ion-title",2,3),e._uU(5,"Login"),e.qZA()()(),e.TgZ(6,"div",4)(7,"ion-avatar",5,6),e._UZ(9,"img",7),e.qZA(),e.TgZ(10,"div",8)(11,"ion-card")(12,"ion-card-header")(13,"ion-card-title"),e._uU(14,"Login"),e.qZA()(),e.TgZ(15,"ion-card-content")(16,"ion-input",9),e.NdJ("ngModelChange",function(c){return t.credentials.username=c}),e.qZA(),e.TgZ(17,"ion-input",10),e.NdJ("ngModelChange",function(c){return t.credentials.password=c}),e.qZA(),e.TgZ(18,"ion-toggle",11),e._uU(19,"Recuerdame"),e.qZA(),e._UZ(20,"br")(21,"br"),e.TgZ(22,"ion-button",12),e.NdJ("click",function(){return t.enviarInformacion()}),e._uU(23," Conectar "),e.qZA(),e._UZ(24,"br"),e.TgZ(25,"div")(26,"h3"),e._uU(27),e.qZA()(),e.TgZ(28,"p",13),e._uU(29,"Registrarse"),e.qZA(),e._UZ(30,"br"),e.TgZ(31,"p",14),e.NdJ("click",function(){return t.forgot()}),e._uU(32," Olvidaste tu contrase\xf1a?"),e.qZA()()(),e.TgZ(33,"ion-modal",15),e.YNc(34,f,26,6,"ng-template"),e.qZA()()()()),2&n&&(e.Q6J("fullscreen",!0),e.xp6(16),e.Q6J("ngModel",t.credentials.username),e.xp6(1),e.Q6J("ngModel",t.credentials.password),e.xp6(10),e.Oqu(t.mensaje))},dependencies:[g.JJ,g.On,o.BJ,o.YG,o.Sm,o.PM,o.FN,o.Zi,o.Dq,o.W2,o.Gu,o.gu,o.pK,o.Q$,o.t9,o.n0,o.wd,o.ho,o.sr,o.ki,o.w,o.QI,o.j9],styles:["ion-content[_ngcontent-%COMP%]{--ion-background-color:#093A3E}#avatar-container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:45%;transform:translateY(-50%)}#avatar-container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#avatar-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#avatar[_ngcontent-%COMP%]{margin:auto;width:175px;height:175px}ion-card[_ngcontent-%COMP%]{margin-top:30px;background-color:#fff;border-radius:100px}ion-card-title[_ngcontent-%COMP%]{color:#fff;font-size:30px;font-weight:400;width:100px}ion-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center}ion-input[_ngcontent-%COMP%]{align-items:center;background-color:#cecece;color:#000;border-radius:20px;margin:5% 10%;width:80%;--ion-color-success:#3AAFB9;box-sizing:border-box}ion-toggle[_ngcontent-%COMP%]{--handle-background:#3AAFB9;--track-background:#cecece;--handle-background-checked:#3AAFB9;--track-background-checked:#64E9EE}ion-button[_ngcontent-%COMP%]{--background: #3AAFB9;--background-hover: #64E9EE;--color: white;--font-weight: 500}a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}a[_ngcontent-%COMP%]:hover{color:#64e9ee;text-decoration:underline}h3[_ngcontent-%COMP%]{margin-top:10px;color:#fff}ion-select[_ngcontent-%COMP%]{align-items:center;background-color:#cecece;color:#000;border-radius:20px;margin:5% 10%;width:80%;--highlight-color-focused: #3AAFB9;--highlight-color-valid: #3AAFB9;box-sizing:border-box;--padding-end:10px}"]}),l})()}];let x=(()=>{var a;class l{}return(a=l).\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[d.Bz.forChild(M),d.Bz]}),l})(),C=(()=>{var a;class l{}return(a=l).\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[p.ez,g.u5,o.Pc,x]}),l})()}}]);